<div class="container">
  <div class="container-left">
    <div #aiAvatar class="ai-img">
      <svg
        width="100"
        height="109"
        viewBox="0 0 100 109"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
      >
        <rect width="100" height="108.257" transform="matrix(-1 0 0 1 100 0)" fill="url(#pattern0)" />
        <defs>
          <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">
            <use xlink:href="#image0" transform="scale(0.00917431 0.00847458)" />
          </pattern>
          <image
            id="image0"
            width="109"
            height="118"
            xlink:href="data:image/png;base64,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"
          />
        </defs>
      </svg>
    </div>
    <div class="ai-name">Nora</div>
    <div class="ai-stats">
      <img src="./../assets/level.gif" class="levelgif" />
      LVL {{ nora.level }} • {{ nora.xp }}xp • {{ nora.mood }}
    </div>
    <div class="ai-relation"></div>
    <div #aiChatCloud class="ai-chat-cloud">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 20"
        width="24"
        height="20"
        fill="currentColor"
        aria-hidden="true"
        class="sc-gXfVKN chatPointer"
      >
        <path
          d="M11.92 16.062A19.91 19.91 0 0 1 0 20V0h20c0 7.668-.155 16.282 4 20-5.176-.054-9.12-1.727-12.08-3.938z"
        ></path>
      </svg>
      {{ cloudDialogBox }}
    </div>
  </div>
  <div class="container-mid">
    <div class="chatBox">
      <div class="chatPreviewBox">
        <div *ngFor="let chat of chatObjects">
          <div *ngIf="chat.type == 'user'" class="user">
            <div class="messageBox">
              {{ chat.message }}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 20"
                width="24"
                height="20"
                fill="currentColor"
                align="right"
                class="userPointer"
              >
                <path
                  d="M11.92 16.062A19.91 19.91 0 0 1 0 20V0h20c0 7.668-.155 16.282 4 20-5.176-.054-9.12-1.727-12.08-3.938z"
                ></path>
              </svg>
            </div>
          </div>
          <div *ngIf="chat.type == 'ai'" class="ai">
            <div class="messageBox">
              {{ chat.message }}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 20"
                width="24"
                height="20"
                fill="currentColor"
                align="right"
                class="aiPointer"
              >
                <path
                  d="M11.92 16.062A19.91 19.91 0 0 1 0 20V0h20c0 7.668-.155 16.282 4 20-5.176-.054-9.12-1.727-12.08-3.938z"
                ></path>
              </svg>
            </div>
            <div class="debugMode rateButtom">+</div>
          </div>
        </div>
      </div>

      <div class="typing-in" *ngIf="loading">
        <div class="ai">
          <div class="messageBox">
            <div class="ticontainer">
              <div class="tiblock">
                <div class="tidot"></div>
                <div class="tidot"></div>
                <div class="tidot"></div>
              </div>
            </div>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 20"
              width="24"
              height="20"
              fill="currentColor"
              align="right"
              class="aiPointer"
            >
              <path
                d="M11.92 16.062A19.91 19.91 0 0 1 0 20V0h20c0 7.668-.155 16.282 4 20-5.176-.054-9.12-1.727-12.08-3.938z"
              ></path>
            </svg>
          </div>
        </div>
      </div>

      <div class="chatTextBox">
        <div class="mic" (click)="toggleSpeech()">
          <svg
            [ngClass]="{ on: speech == true }"
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7 4C7 2.34315 8.34315 1 10 1C11.6569 1 13 2.34315 13 4V8C13 9.65685 11.6569 11 10 11C8.34315 11 7 9.65685 7 8V4Z"
            />
            <path
              d="M11 14.9291C14.3923 14.4439 17 11.5265 17 8C17 7.44772 16.5523 7 16 7C15.4477 7 15 7.44772 15 8C15 10.7614 12.7614 13 10 13C7.23858 13 5 10.7614 5 8C5 7.44772 4.55228 7 4 7C3.44772 7 3 7.44772 3 8C3 11.5265 5.60771 14.4439 9 14.9291V17H6C5.44772 17 5 17.4477 5 18C5 18.5523 5.44772 19 6 19H14C14.5523 19 15 18.5523 15 18C15 17.4477 14.5523 17 14 17H11V14.9291Z"
            />
          </svg>
        </div>
        <div class="innputBox">
          <input
            #chatInput
            id="chatInput"
            type="text"
            placeholder="Start chatting"
            (keyup.enter)="addUserMessage($event.target.value)"
            class="inputChat"
          />
          <button style="display: none" id="SendEnterKey" (click)="addUserMessage(chatInput.value)"></button>
        </div>
      </div>
    </div>
  </div>
  <div class="container-right"></div>
</div>
